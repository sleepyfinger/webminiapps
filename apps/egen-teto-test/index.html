<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ì—ê²ë…€ í…Œí† ë…€ í…ŒìŠ¤íŠ¸</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        font-family: "Noto Sans KR", -apple-system, BlinkMacSystemFont,
          "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        background-color: #fdf6f0;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        box-sizing: border-box;
      }
      .container {
        max-width: 400px;
        width: 90%;
        background-color: #ffffff;
        border-radius: 20px;
        box-shadow: 0 5px 20px rgba(100, 100, 100, 0.07);
        padding: 20px;
        text-align: center;
      }
      h1 {
        color: #5c5470;
        text-align: center;
        font-size: 1.7em;
        font-weight: 600;
        margin-bottom: 15px;
      }

      #start-screen .description {
        font-size: 1em;
        color: #7d728f;
        margin-bottom: 22px;
        line-height: 1.6;
      }

      .btn {
        padding: 11px 22px;
        font-size: 1.05em;
        font-weight: 500;
        border-radius: 25px;
        border: none;
        color: white;
        cursor: pointer;
        transition: background-color 0.2s ease, transform 0.1s ease,
          box-shadow 0.2s ease;
        margin-top: 12px;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
      }
      .btn:active {
        transform: scale(0.98) translateY(1px);
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      #progress-info {
        margin-bottom: 18px;
      }
      #progress-text {
        font-size: 0.9em;
        color: #a499b3;
        margin-bottom: 8px;
      }
      #progress-bar-container {
        width: 100%;
        background-color: #fdeee2;
        border-radius: 4px;
        height: 10px;
        overflow: hidden;
      }
      #progress-bar {
        width: 0%;
        height: 100%;
        background-color: #faae7b;
        border-radius: 4px;
        transition: width 0.3s ease-in-out;
      }

      #qa-wrapper {
        transition: opacity 0.25s ease-in-out;
        margin-bottom: 18px;
      }
      #qa-wrapper.fade-out {
        opacity: 0 !important;
      }

      #question {
        font-size: 1.2em;
        font-weight: 500;
        color: #5c5470;
        margin-bottom: 18px;
        line-height: 1.6;
      }
      #answers button {
        display: block;
        width: 100%;
        margin-bottom: 8px;
        padding: 13px;
        font-size: 1em;
        font-weight: 500;
        border-radius: 10px;
        background-color: #fffcf9;
        color: #d57149;
        border: 1.5px solid #fdeee2;
        cursor: pointer;
        transition: background-color 0.2s ease, border-color 0.2s ease,
          color 0.2s ease, transform 0.1s ease;
      }
      #answers button:hover {
        background-color: #faae7b;
        border-color: #f89d63;
        color: white;
      }
      #answers button:active {
        transform: scale(0.97);
        background-color: #f89d63;
      }

      #result {
        margin-top: 20px;
        padding: 20px;
        background-color: #ffffff;
        border-radius: 12px;
        font-size: 1.1em;
        text-align: center;
        line-height: 1.7;
        border: 2px solid #faae7b;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        color: #706882;
      }
      #result .icon {
        font-size: 2em;
        margin-bottom: 12px;
      }
      #result b {
        color: #c75b2d;
        font-size: 1.3em;
        display: block;
        margin-bottom: 10px;
      }

      #restart {
        display: block;
        width: 100%;
        background-color: #faae7b;
      }
      #start-button {
        background-color: #faae7b;
        font-size: 1.15em;
        padding: 13px 28px;
      }
      #start-button:hover {
        background-color: #f89d63;
      }
      #restart,
      #share-button {
        display: block;
        width: 100%;
        background-color: #faae7b;
      }
      #restart:hover,
      #share-button:hover {
        background-color: #f89d63;
      }
      #share-button {
        margin-top: 10px;
      }
      footer {
        width: 100%;
        text-align: center;
        padding: 15px 0;
        font-size: 0.9em;
        color: #a499b3;
        margin-top: 20px;
      }
      footer p {
        margin: 0;
      }
      footer a {
        color: #c75b2d;
        text-decoration: none;
        font-weight: 500;
      }
      footer a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ì—ê²ë…€ vs í…Œí† ë…€ í…ŒìŠ¤íŠ¸</h1>

      <div id="start-screen">
        <p class="description">
          ê°„ë‹¨í•œ ì§ˆë¬¸ì— ë‹µí•˜ê³  ë‹¹ì‹ ì˜ ì„±í–¥ì´ 'í…Œí† 'ì— ê°€ê¹Œìš´ì§€, 'ì—ê²'ì—
          ê°€ê¹Œìš´ì§€ ì•Œì•„ë³´ì„¸ìš”!
        </p>
        <button id="start-button" class="btn">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
      </div>

      <div id="test-screen" style="display: none">
        <div id="progress-info" style="display: none">
          <p id="progress-text"></p>
          <div id="progress-bar-container">
            <div id="progress-bar"></div>
          </div>
        </div>
        <div id="qa-wrapper">
          <div id="question"></div>
          <div id="answers"></div>
        </div>
        <div id="result" style="display: none"></div>
        <button id="restart" class="btn" style="display: none">ë‹¤ì‹œí•˜ê¸°</button>
        <button id="share-button" class="btn" style="display: none">
          ê²°ê³¼ ê³µìœ í•˜ê¸°
        </button>
      </div>
    </div>

    <footer>
      <p>
        Made with ğŸ’– Â·
        <a
          href="https://blog.naver.com/sleepyfinger"
          target="_blank"
          rel="noopener noreferrer"
        >
          SleepyFinger
        </a>
      </p>
    </footer>

    <script>
      const questions = [
        {
          q: "íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ë‹¹ì‹ ì˜ ì—­í• ì€?",
          a: ["ì£¼ë„ì ìœ¼ë¡œ íŒ€ì„ ì´ë„ëŠ” ë¦¬ë”", "íŒ€ì›ë“¤ì„ ì„œí¬íŠ¸í•˜ëŠ” ì¡°ë ¥ì"],
        },
        {
          q: "ì¹œêµ¬ê°€ ê³ ë¯¼ì„ í„¸ì–´ë†“ì„ ë•Œ ë‹¹ì‹ ì˜ ë°˜ì‘ì€?",
          a: ["ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ í˜„ì‹¤ì ì¸ ì¡°ì–¸", "ë”°ëœ»í•œ ìœ„ë¡œì™€ ì •ì„œì  ì§€ì§€"],
        },
        {
          q: "ì˜ê²¬ ëŒ€ë¦½ì´ ìƒê²¼ì„ ë•Œ ë‹¹ì‹ ì˜ ëŒ€ì²˜ ë°©ì‹ì€?",
          a: [
            "ë…¼ë¦¬ì ìœ¼ë¡œ ë‚´ ì£¼ì¥ì„ í¼ì³ ì„¤ë“",
            "ìƒëŒ€ë°© ì˜ê²¬ì„ ê²½ì²­í•˜ë©° íƒ€í˜‘ì  ëª¨ìƒ‰",
          ],
        },
        {
          q: "ìƒˆë¡œìš´ ì¼ì„ ì‹œì‘í•  ë•Œ ë‹¹ì‹ ì˜ ìŠ¤íƒ€ì¼ì€?",
          a: [
            "ë¹ ë¥´ê²Œ ê³„íší•˜ê³  ì¦‰ì‹œ ì‹¤í–‰",
            "ì‹ ì¤‘í•˜ê²Œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ì²œì²œíˆ ì‹œì‘",
          ],
        },
        {
          q: "ê°ì •ì„ í‘œí˜„í•˜ëŠ” ë°©ì‹ì€?",
          a: [
            "ì†”ì§í•˜ê³  ì§ì ‘ì ìœ¼ë¡œ í‘œí˜„",
            "ìƒí™©ê³¼ ìƒëŒ€ë¥¼ ê³ ë ¤í•´ ê°„ì ‘ì ìœ¼ë¡œ í‘œí˜„",
          ],
        },
        {
          q: "ê²°ì •ì„ ë‚´ë ¤ì•¼ í•  ë•Œ ë” ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?",
          a: [
            "ê°ê´€ì ì¸ ì‚¬ì‹¤ê³¼ ë°ì´í„° ê¸°ë°˜ íŒë‹¨",
            "ì§ê°ê³¼ ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ì˜ ê´€ê³„",
          ],
        },
        {
          q: "ì¼ìƒì—ì„œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ í•´ì†Œí•˜ëŠ” ë°©ë²•ì€?",
          a: ["í™œë™ì ì¸ ì·¨ë¯¸ë‚˜ ìš´ë™ìœ¼ë¡œ í•´ì†Œ", "ì¡°ìš©í•œ íœ´ì‹ì´ë‚˜ ëª…ìƒìœ¼ë¡œ í•´ì†Œ"],
        },
        {
          q: "ì„ í˜¸í•˜ëŠ” ì‘ì—… í™˜ê²½ì€?",
          a: ["ëª…í™•í•œ ëª©í‘œì™€ ê²½ìŸì´ ìˆëŠ” í™˜ê²½", "ì•ˆì •ì ì´ê³  í˜‘ë ¥ì ì¸ í™˜ê²½"],
        },
        {
          q: "ì¹­ì°¬ì„ ë°›ì„ ë•Œ ë‹¹ì‹ ì˜ ë°˜ì‘ì€?",
          a: [
            "ëŠ¥ë ¥ì„ ì¸ì •ë°›ì€ ê²ƒ ê°™ì•„ ìì‹ ê° ìƒìŠ¹",
            "ì‘¥ìŠ¤ëŸ½ì§€ë§Œ ê°ì‚¬í•œ ë§ˆìŒìœ¼ë¡œ ìˆ˜ìš©",
          ],
        },
        {
          q: "ì•½ì† ì‹œê°„ì— ëŠ¦ì€ ì¹œêµ¬ë¥¼ ë´¤ì„ ë•Œ ë“œëŠ” ìƒê°ì€?",
          a: [
            "'ì™œ ëŠ¦ì—ˆì„ê¹Œ?' ì´ìœ ê°€ ê¶ê¸ˆí•˜ê³  ê³„íšì— ì°¨ì§ˆì´ ìƒê¸¸ê¹Œ ê±±ì •",
            "'ë¬´ìŠ¨ ì¼ ìˆì—ˆë‚˜?' ì¹œêµ¬ì˜ ì•ˆì „ì´ë‚˜ ìƒí™©ì´ ë¨¼ì € ê±±ì •",
          ],
        },
      ];

      let current = 0;
      let scores = { í…Œí† : 0, ì—ê²: 0 };

      const startScreenEl = document.getElementById("start-screen");
      const testScreenEl = document.getElementById("test-screen");
      const startButtonEl = document.getElementById("start-button");
      const questionEl = document.getElementById("question");
      const answersEl = document.getElementById("answers");
      const resultEl = document.getElementById("result");
      const restartButtonEl = document.getElementById("restart");
      const shareButtonEl = document.getElementById("share-button");
      const progressInfoEl = document.getElementById("progress-info");
      const progressTextEl = document.getElementById("progress-text");
      const progressBarEl = document.getElementById("progress-bar");
      const qaWrapperEl = document.getElementById("qa-wrapper");

      function showQuestion() {
        if (current < questions.length) {
          progressInfoEl.style.display = "block";
          qaWrapperEl.classList.add("fade-out");

          setTimeout(() => {
            questionEl.textContent = questions[current].q;

            const tetoChoiceText = questions[current].a[0];
            const egenChoiceText = questions[current].a[1];
            let buttonsHTML;
            if (Math.random() < 0.5) {
              buttonsHTML = `<button onclick="answer('í…Œí† ')">${tetoChoiceText}</button><button onclick="answer('ì—ê²')">${egenChoiceText}</button>`;
            } else {
              buttonsHTML = `<button onclick="answer('ì—ê²')">${egenChoiceText}</button><button onclick="answer('í…Œí† ')">${tetoChoiceText}</button>`;
            }
            answersEl.innerHTML = buttonsHTML;

            if (progressTextEl) {
              progressTextEl.textContent = `ì§ˆë¬¸ ${current + 1} / ${
                questions.length
              }`;
            }
            if (progressBarEl) {
              const progressPercentage =
                ((current + 1) / questions.length) * 100;
              progressBarEl.style.width = `${progressPercentage}%`;
            }
            qaWrapperEl.classList.remove("fade-out");
          }, 250);
        } else {
          showResult();
        }
      }

      function answer(type) {
        if (type !== "í…Œí† " && type !== "ì—ê²") {
          console.error("Unknown answer type:", type);
          return;
        }
        scores[type]++;
        current++;
        showQuestion();
      }

      function showResult() {
        qaWrapperEl.style.display = "none";
        progressInfoEl.style.display = "none";
        resultEl.style.display = "block";
        restartButtonEl.style.display = "block";
        shareButtonEl.style.display = "block";

        let result = "";
        let desc = "";
        let icon = "";

        if (scores["í…Œí† "] > scores["ì—ê²"]) {
          result = "í…Œí†  íƒ€ì…";
          icon = "ğŸš€";
          desc =
            "ë‹¹ì‹ ì€ ì¶”ì§„ë ¥ ìˆê³  ë¦¬ë”ì‹­ì´ ê°•í•œ í…Œí†  íƒ€ì…! ë…ë¦½ì ì´ê³  ë…¼ë¦¬ì ì¸ ì„±í–¥ì´ ë‹ë³´ì…ë‹ˆë‹¤.";
        } else if (scores["ì—ê²"] > scores["í…Œí† "]) {
          result = "ì—ê² íƒ€ì…";
          icon = "ğŸ’–";
          desc =
            "ë‹¹ì‹ ì€ ë‹¤ì •í•˜ê³  ê³µê°ëŠ¥ë ¥ì´ ë›°ì–´ë‚œ ì—ê² íƒ€ì…! ì¡°í™”ì™€ ë°°ë ¤ë¥¼ ì¤‘ì‹œí•˜ëŠ” ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.";
        } else {
          result = "ê· í˜• íƒ€ì…";
          icon = "âš–ï¸";
          desc =
            "ë‹¹ì‹ ì€ ìƒí™©ì— ë”°ë¼ í…Œí† ì²˜ëŸ¼ ì¶”ì§„ë ¥ ìˆê¸°ë„ í•˜ê³ , ì—ê²ì²˜ëŸ¼ ë‹¤ì •í•˜ê¸°ë„ í•œ ê· í˜•ì¡íŒ íƒ€ì…! ë‹¤ì–‘í•œ ë§¤ë ¥ì„ ê°€ì§€ê³  ìˆë„¤ìš”.";
        }
        resultEl.innerHTML = `<div class="icon">${icon}</div><b>${result}</b><br>${desc}`;

        lastResultData = {
          shareApiTitle: "ë‚˜ì˜ ì—ê²ë…€ vs í…Œí† ë…€ í…ŒìŠ¤íŠ¸ ê²°ê³¼!",
          shareApiText: `ì €ëŠ” ${result} ${icon} ì…ë‹ˆë‹¤! ${desc} ë‹¹ì‹ ë„ í…ŒìŠ¤íŠ¸ í•´ë³´ì„¸ìš”!`,
          clipboardText: `âœ¨ ë‚˜ì˜ ì—ê²ë…€ vs í…Œí† ë…€ í…ŒìŠ¤íŠ¸ ê²°ê³¼ âœ¨\n\nì €ëŠ” ${result} ${icon} ì…ë‹ˆë‹¤!\n${desc}\n\në‹¹ì‹ ë„ í…ŒìŠ¤íŠ¸ í•´ë³´ì„¸ìš”!\n${window.location.href}`,
          url: window.location.href,
        };
      }

      function startTest() {
        startScreenEl.style.display = "none";
        testScreenEl.style.display = "block";
        qaWrapperEl.style.display = "block";
        resultEl.style.display = "none";
        restartButtonEl.style.display = "none";
        shareButtonEl.style.display = "none";

        current = 0;
        scores = { í…Œí† : 0, ì—ê²: 0 };
        lastResultData = {};

        if (progressBarEl) progressBarEl.style.width = "0%";
        if (progressTextEl) progressTextEl.textContent = "";

        showQuestion();
      }
      startButtonEl.onclick = startTest;
      restartButtonEl.onclick = function () {
        resultEl.style.display = "none";
        resultEl.innerHTML = "";
        restartButtonEl.style.display = "none";
        shareButtonEl.style.display = "none";
        qaWrapperEl.style.display = "block";
        qaWrapperEl.classList.remove("fade-out");
        progressInfoEl.style.display = "block";
        startTest();
      };

      let lastResultData = {};

      async function handleShare() {
        const { shareApiTitle, shareApiText, clipboardText, url } =
          lastResultData;

        if (!shareApiTitle || !url) {
          console.error("ê³µìœ í•  ê²°ê³¼ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
          alert("ê³µìœ í•  ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € í…ŒìŠ¤íŠ¸ë¥¼ ì™„ë£Œí•´ì£¼ì„¸ìš”.");
          return;
        }

        if (navigator.share) {
          try {
            await navigator.share({
              title: shareApiTitle,
              text: shareApiText,
              url: url,
            });
          } catch (err) {
            if (err.name !== "AbortError") {
              console.error("ê³µìœ  ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", err);
              copyToClipboard(clipboardText);
            }
          }
        } else {
          copyToClipboard(clipboardText);
        }
      }
      function copyToClipboard(textToCopy) {
        if (
          navigator.clipboard &&
          typeof navigator.clipboard.writeText === "function"
        ) {
          navigator.clipboard
            .writeText(textToCopy)
            .then(() => {
              alert("ê²°ê³¼ì™€ ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
            })
            .catch((err) => {
              console.error("í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:", err);
              alert("ê²°ê³¼ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.");
            });
        } else {
          console.warn(
            "Clipboard API (writeText)ëŠ” ì´ í™˜ê²½ì—ì„œ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
          );
          alert("í´ë¦½ë³´ë“œ ìë™ ë³µì‚¬ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        }
      }
      shareButtonEl.onclick = handleShare;
    </script>
  </body>
</html>
